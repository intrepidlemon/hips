webpackJsonp([1],{"6NUz":function(t,e){},EAhK:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=i("VU/8")({name:"App"},o,!1,function(t){i("mGSF")},null,null).exports,r=i("/ocq"),s=i("Gu7T"),u=i.n(s),c=i("0BPL"),l=function(){var t=0;return function(){return 1/(t+=1)}},m=function(){var t=0;return function(){return((t+=1)+1)/(2*t)}},v=function t(e,i,n,o){var a=i.dislocation,r=i.failure,s=i.success,u=n.dislocation,c=n.failure,l=u(),m=c(),v=1-l-m,d=0;return d+=l*a(),d+=m*r(),d+=v*s(),d*=o(),e>0?d+.97*t(e-1,i,n,o):d},d=function(t,e){var i=t,n=function(t){var e=t.years,i=6/(e*(e+1)*(2*e+1));return function(t){return Math.pow(t,2)*i}}({years:e}),o=0;return function(){return i-=t*n(o),o+=1,Math.max(0,i)}},f=function(t){var e,i=t.success,n=void 0===i?100:i,o=t.dislocation,a=void 0===o?5:o,r=t.failure,s=void 0===r?0:r,u=t.years;return{success:d(n,void 0===u?10:u),dislocation:(e=a,function(){return e}),failure:function(t){return function(){return t}}(s)}},p=function(t){var e=t.years,i=t.percent,n=function(t){var e=t.years,i=6*(1-t.percent)/(e*(e+1)*(2*e+1));return function(t){return Math.pow(t,2)*i}}({years:e,percent:i}),o=n(e),a=0;return function(){return(a+=1)<e?n(a):o}},h=function(t,e,i,n,o,a){var r=i.totalUtils,s=i.hemiUtils,u=n.totalLongetivity,d=n.hemiLongetivity,h=o.totalDislocationRate,g=o.hemiDislocationRate;t=Math.random()>.2?Math.max(function(t){var e=t.mean,i=t.std,n=void 0===i?.5:i;return c.jStat.normal.sample(e,n)}({mean:t,std:e}),1):1;var y,_,b,$=function(t){var e,i=t.total,n=t.hemi;return{total:(e=i,function(){return e}),hemi:function(t){return function(){return t}}(n)}}({total:h,hemi:g}),L=$.total,R=$.hemi,P=(_=(y={total:u,hemi:d}).total,b=y.hemi,{total:p(_),hemi:p(b)}),x=P.total,w=P.hemi,D=function(){return 1},S=function(){return 1};switch(a){case"hyperbolic":D=l(),S=l();break;case"modified-hyperbolic":D=m(),S=m()}return{total:v(t,f(r),{dislocation:L,failure:x},D),hemi:v(t,f(s),{dislocation:R,failure:w},S)}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"parameters"}},[i("div",{staticClass:"section"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.discount,expression:"discount"}],attrs:{type:"radio",value:"none"},domProps:{checked:t._q(t.discount,"none")},on:{change:function(e){t.discount="none"}}}),t._v(" "),i("label",[t._v("no discounting")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.discount,expression:"discount"}],attrs:{type:"radio",value:"hyperbolic"},domProps:{checked:t._q(t.discount,"hyperbolic")},on:{change:function(e){t.discount="hyperbolic"}}}),t._v(" "),i("label",[t._v("hyperbolic discounting")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.discount,expression:"discount"}],attrs:{type:"radio",value:"modified-hyperbolic"},domProps:{checked:t._q(t.discount,"modified-hyperbolic")},on:{change:function(e){t.discount="modified-hyperbolic"}}}),t._v(" "),i("label",[t._v("modified hyperbolic discounting")])]),t._v(" "),i("label",[t._v("trials")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.trials,expression:"trials",modifiers:{number:!0}}],domProps:{value:t.trials},on:{input:function(e){e.target.composing||(t.trials=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("label",[t._v("life expectancy in years")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.years,expression:"years",modifiers:{number:!0}}],domProps:{value:t.years},on:{input:function(e){e.target.composing||(t.years=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("label",[t._v("total success utility")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.totalSuccess,expression:"totalSuccess",modifiers:{number:!0}}],domProps:{value:t.totalSuccess},on:{input:function(e){e.target.composing||(t.totalSuccess=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("label",[t._v("hemi success utility")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.hemiSuccess,expression:"hemiSuccess",modifiers:{number:!0}}],domProps:{value:t.hemiSuccess},on:{input:function(e){e.target.composing||(t.hemiSuccess=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("label",[t._v("dislocation utility")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.dislocation,expression:"dislocation",modifiers:{number:!0}}],domProps:{value:t.dislocation},on:{input:function(e){e.target.composing||(t.dislocation=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("label",[t._v("total longetivity in years")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.totalLongetivityYears,expression:"totalLongetivityYears",modifiers:{number:!0}}],domProps:{value:t.totalLongetivityYears},on:{input:function(e){e.target.composing||(t.totalLongetivityYears=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("label",[t._v("hemi longetivity in years")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.hemiLongetivityYears,expression:"hemiLongetivityYears",modifiers:{number:!0}}],domProps:{value:t.hemiLongetivityYears},on:{input:function(e){e.target.composing||(t.hemiLongetivityYears=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("label",[t._v("total longetivity percent survive")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.totalLongetivityPercent,expression:"totalLongetivityPercent",modifiers:{number:!0}}],domProps:{value:t.totalLongetivityPercent},on:{input:function(e){e.target.composing||(t.totalLongetivityPercent=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("label",[t._v("hemi longetivity percent survive")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.hemiLongetivityPercent,expression:"hemiLongetivityPercent",modifiers:{number:!0}}],domProps:{value:t.hemiLongetivityPercent},on:{input:function(e){e.target.composing||(t.hemiLongetivityPercent=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("label",[t._v("total dislocation rate")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.totalDislocationRate,expression:"totalDislocationRate",modifiers:{number:!0}}],domProps:{value:t.totalDislocationRate},on:{input:function(e){e.target.composing||(t.totalDislocationRate=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("label",[t._v("hemi dislocation rate")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.hemiDislocationRate,expression:"hemiDislocationRate",modifiers:{number:!0}}],domProps:{value:t.hemiDislocationRate},on:{input:function(e){e.target.composing||(t.hemiDislocationRate=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("label",[t._v("failure utility")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.failure,expression:"failure",modifiers:{number:!0}}],domProps:{value:t.failure},on:{input:function(e){e.target.composing||(t.failure=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])},staticRenderFns:[]};var y=i("VU/8")({name:"Parameters",computed:{years:{get:function(){return this.$store.state.parameters.years},set:function(t){this.$store.commit("updateYears",t)}},relativeValueOfHemi:{get:function(){return this.$store.state.parameters.relativeValueOfHemi},set:function(t){this.$store.commit("updateRelativeValueOfHemi",t)}},totalSuccess:{get:function(){return this.$store.state.parameters.totalSuccess},set:function(t){this.$store.commit("updateTotalSuccess",t)}},hemiSuccess:{get:function(){return this.$store.state.parameters.hemiSuccess},set:function(t){this.$store.commit("updateHemiSuccess",t)}},failure:{get:function(){return this.$store.state.parameters.failure},set:function(t){this.$store.commit("updateFailure",t)}},dislocation:{get:function(){return this.$store.state.parameters.dislocation},set:function(t){this.$store.commit("updateDislocation",t)}},totalLongetivityYears:{get:function(){return this.$store.state.parameters.totalLongetivityYears},set:function(t){this.$store.commit("updateTotalLongetivityYears",t)}},totalLongetivityPercent:{get:function(){return this.$store.state.parameters.totalLongetivityPercent},set:function(t){this.$store.commit("updateTotalLongetivityPercent",t)}},hemiLongetivityYears:{get:function(){return this.$store.state.parameters.hemiLongetivityYears},set:function(t){this.$store.commit("updateHemiLongetivityYears",t)}},hemiLongetivityPercent:{get:function(){return this.$store.state.parameters.hemiLongetivityPercent},set:function(t){this.$store.commit("updateHemiLongetivityPercent",t)}},hemiDislocationRate:{get:function(){return this.$store.state.parameters.hemiDislocationRate},set:function(t){this.$store.commit("updateHemiDislocationRate",t)}},totalDislocationRate:{get:function(){return this.$store.state.parameters.totalDislocationRate},set:function(t){this.$store.commit("updateTotalDislocationRate",t)}},trials:{get:function(){return this.$store.state.parameters.trials},set:function(t){this.$store.commit("updateTrials",t)}},discount:{get:function(){return this.$store.state.parameters.discount},set:function(t){this.$store.commit("updateDiscount",t)}}}},g,!1,function(t){i("EAhK")},"data-v-bc54db04",null).exports,_=function(t){return 0===t.length?null:t.reduce(function(t,e){return t+e},0)/t.length},b=function(t){return Math.min.apply(Math,u()(t))},$=function(t){return Math.max.apply(Math,u()(t))},L={name:"Points",computed:{total:function(){return this.$store.state.results.total},hemi:function(){return this.$store.state.results.hemi},points:function(){return t=this.total,e=this.hemi,i=Math.min(b(t),b(e)),n=Math.max($(t),$(e)),o=n-i,a=function(t){return(t-i)/o},{min:i,max:n,half:(i+n)/2,total:t.map(a),hemi:e.map(a)};var t,e,i,n,o,a},jitter:function(){return[].concat(u()(Array(this.$store.state.parameters.trials))).map(function(){return Math.random()})}}},R={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{width:"100",height:"100",viewBox:"-2 0 102 101"}},[t._l(t.points.total,function(e,n){return i("circle",{key:e+"-"+n,attrs:{r:"0.3",cx:2+45*t.jitter[n],cy:98-95*e}})}),t._v(" "),t._l(t.points.hemi,function(e,n){return i("circle",{key:e+"-"+n,attrs:{r:"0.3",cx:53+45*t.jitter[n],cy:98-95*e}})})],2)},staticRenderFns:[]};var P={name:"Visualize",components:{Points:i("VU/8")(L,R,!1,function(t){i("logp")},"data-v-4886ef17",null).exports},computed:{total:function(){return this.$store.state.results.total},hemi:function(){return this.$store.state.results.hemi},min:function(){return Math.min(b(this.total),b(this.hemi))},max:function(){return Math.max($(this.total),$(this.hemi))},half:function(){return(this.max+this.min)/2},averageTotal:function(){return this.$store.getters.averageTotal},averageHemi:function(){return this.$store.getters.averageHemi}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"visualize"}},[i("div",{staticClass:"y"},[i("div",[t._v(" "+t._s(t.max.toFixed(2))+" ")]),t._v(" "),i("div",[t._v(" "+t._s(t.half.toFixed(2))+" ")]),t._v(" "),i("div",[t._v(" "+t._s(t.min.toFixed(2))+" ")])]),t._v(" "),i("div",{staticClass:"main"},[i("Points"),t._v(" "),i("div",{staticClass:"x"},[i("div",[i("strong",[t._v("total")]),t._v(": "+t._s(t.averageTotal.toFixed(2))+" average")]),t._v(" "),i("div",[i("strong",[t._v("hemi")]),t._v(": "+t._s(t.averageHemi.toFixed(2))+" average")])])],1)])},staticRenderFns:[]};var w={name:"Results",components:{Visualize:i("VU/8")(P,x,!1,function(t){i("6NUz")},"data-v-6a3e0e21",null).exports},methods:{close:function(){this.$store.commit("updateResults",!1)}}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"results"},on:{click:this.close}},[e("div",{staticClass:"interior"},[e("h1",[this._v("Utility")]),this._v(" "),e("Visualize")],1)])},staticRenderFns:[]};var S={name:"Calculator",components:{Parameters:y,Results:i("VU/8")(w,D,!1,function(t){i("wOmr")},"data-v-619e53f6",null).exports},computed:{showResults:{get:function(){return this.$store.state.ui.showResults},set:function(t){this.$store.commit("updateResults",t)}}},methods:{single:function(){var t=this.$store.state.parameters,e=t.years,i=t.totalSuccess,n=t.hemiSuccess,o=t.failure,a=t.dislocation,r=t.totalLongetivityYears,s=t.hemiLongetivityYears,u=t.totalLongetivityPercent,c=t.hemiLongetivityPercent,l=t.totalDislocationRate,m=t.hemiDislocationRate,v=t.discount,d=h(e,e/2,{totalUtils:{success:i,failure:o,dislocation:a,years:r},hemiUtils:{success:n,failure:o,dislocation:a,years:s}},{totalLongetivity:{years:r,percent:u},hemiLongetivity:{years:s,percent:c}},{totalDislocationRate:l,hemiDislocationRate:m},v);this.$store.commit("pushTotal",d.total),this.$store.commit("pushHemi",d.hemi)},all:function(){var t=this;this.showResults=!0,this.$store.commit("clear"),[].concat(u()(Array(this.$store.state.parameters.trials))).forEach(function(e,i){return setTimeout(t.single,3*i)})}}},U={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"calculator"}},[i("h1",[t._v("Calculator 💃")]),t._v(" "),i("Parameters"),t._v(" "),i("button",{on:{click:t.all}},[t._v("Calculate")]),t._v(" "),t.showResults?i("Results"):t._e()],1)},staticRenderFns:[]};var Y=i("VU/8")(S,U,!1,function(t){i("dOeu")},"data-v-698bf45e",null).exports;n.a.use(r.a);var H=new r.a({routes:[{path:"/",name:"Calculator",component:Y}]}),N=i("NYxO"),T={state:{years:5,relativeValueOfHemi:.5,totalSuccess:100,hemiSuccess:100,failure:0,dislocation:5,totalLongetivityYears:12,totalLongetivityPercent:.8,hemiLongetivityYears:6,hemiLongetivityPercent:.8,hemiDislocationRate:.1,totalDislocationRate:.14,trials:1e3,discount:"none"},mutations:{updateYears:function(t,e){t.years=e},updateRelativeValueOfHemi:function(t,e){t.relativeValueOfHemi=e},updateTotalSuccess:function(t,e){t.totalSuccess=e},updateHemiSuccess:function(t,e){t.hemiSuccess=e},updateFailure:function(t,e){t.failure=e},updateDislocation:function(t,e){t.dislocation=e},updateTotalLongetivityYears:function(t,e){t.totalLongetivityYears=e},updateTotalLogetivityPercent:function(t,e){t.totalLongetivityPercent=e},updateHemiLongetivityYears:function(t,e){t.hemiLongetivityYears=e},updateHemiLongetivityPercent:function(t,e){t.hemiLongetivityPercent=e},updateHemiDislocationRate:function(t,e){t.hemiDislocationRate=e},updateTotalDislocationRate:function(t,e){t.totalDislocationRate=e},updateTrials:function(t,e){t.trials=e},updateDiscount:function(t,e){t.discount=e}}},F={state:{total:[],hemi:[]},mutations:{clear:function(t){t.total=[],t.hemi=[]},pushTotal:function(t,e){t.total.push(e)},pushHemi:function(t,e){t.hemi.push(e)}},getters:{averageTotal:function(t){return _(t.total)},averageHemi:function(t){return _(t.hemi)}}},M={state:{showResults:!1},mutations:{updateResults:function(t,e){t.showResults=e}}};n.a.use(N.a);var V=new N.a.Store({modules:{parameters:T,results:F,ui:M},strict:!1});n.a.config.productionTip=!1,new n.a({el:"#app",router:H,store:V,components:{App:a},template:"<App/>"})},dOeu:function(t,e){},logp:function(t,e){},mGSF:function(t,e){},wOmr:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0087cb6c6316108ca9b9.js.map